---------- Forwarded message ----------
From: akira yamada <akira.yamada@gmail.com>
Date: Aug 30, 2006 3:44 PM
Subject: [g:donrails:15] Re: donrails 1.2.1
To: donrails@googlegroups.com



On 8/29/06, ARAKI Yasuhiro <yasu@debian.or.jp> wrote:
> とりあえず、テーブルに手をつけようと思ってるんで、以後は1.3にむけて、、
> ということでしょうか。

1.3に向けって言うことで
もしかしたら大幅な変更が入る余地があるかなと
いましている妄想を投げてみます。

ただblogエンジンとは違う感じになってしまうので
ダメそうだったらそういってください。
# 実際、RWikiに対して同じリクエストを出してみたことがあります。
## さくっとrejectされましたが ;-)

-----------------------------------------------------------------------------------
自分の中のイメージとしてはWikiぽいCMS。
Railsとの相性が悪いところがあるかも(ありそう)。

テキスト、コメント、イメージ、商品情報、およびページを
それぞれオブジェクトとして扱い、
それら同士のリンクあるいは包含関係を
編集することによってコンテンツを形成する。

基本的なコンセプト:

  * OODBぎみに管理するの対象はオブジェクト

  * オブジェクトからオブジェクトへのリンクには種類を設ける
      * 単純リンク
          * 別ページに導く単純なリンク
      * インライン展開リンク
          * リンク対象のオブジェクトから情報を取り込む(その上でリンクする)
          * ショート - 数語程度を取得する
          * ミドル -
            一文〜一段落程度を取得する(<p>〜</p>程度、
            コンテンツ一覧に出力する概要など)
          * ロング -
            数段落程度を取得する(<p>〜</p>数個程度、
            「続きを読む」の前に示す程度)
          * ブロック -
            複数の文やイメージからなるブロックを取得する(<div>〜</div>など)
    リンク別のデフォルト値はリンク先オブジェクトから取得する
    (イメージオブジェクトら<img ...>になるけど
    ページオブジェクトなら<a href...>になるなど)。
      * この点では、各オブジェクトが自分の表現方法を知っているといえる

  * オブジェクトには表現形式を複数設ける
      * 基本的にはインライン展開リンクに合わせて
      * 短い見出語 -
        テキストならそのテキストのタイトル、写真なら小さいサムネイルなど
      * 短い説明文 -
        テキストならそのテキストのタイトルと概要、
        写真なら中くらいのサムネイルなど
      * 説明文 -
        テキストならそのテキストの前半や前文など、
        写真なら中くらいのサムネイルなど
      * ブロック -
        テキストならテキスト全体、
        写真ならオリジナルまたは大きなサイズのサムネイルなど

  * オブジェクトを結び付けるのはコンテナ
      * 一般に参照されるのは基本的になんらかのコンテナ(ページとか)
      * コンテナの編集画面では面なコンテンツを簡単に生成できるようにする
          * テキスト用のコンテナ(= 一般的なblogエンジンの編集画面)であれば
            すぐにテキストを入力できるような形になっているなど
          * イメージ用のコンテナならアップロード用のformがあるなど

  * オブジェクトはバージョン管理
      * 単純に全バージョンを保存しておく?
      * 認意のバージョンを参照(リンク)できる
        (特定のバージョンを外部から参照できなくすることもできる)
          * 常にその時点での最新バージョンを指すリンク
          * 執筆時点での最新バージョンを指す(そのように展開する)リンク
              * 編集したときにはどうするのか?
          * 特定バージョンを指すリンク
      * 特定のオブジェクトの最新版は同一のURLで参照できる
          * 最新版は/path/to/Foo、バージョン1は/path/to/Foo/1とか?

  * オブジェクトのvisibility
      * インライン展開でのみ参照できるオブジェクト
          * ロールやモデルによる参照可能性の制限?
          * 管理者ならOK、編集時はOK、など?


オブジェクトの例:

  * ページ
      * blogの記事など
      * たとえばアフェリエイト情報やタグ情報などとテキストを結び付ける
          * テキスト本文からリンク情報を抽出するなど
      * その他、コメント(ツッコミ)やトラックバッグ、ピングバッグなど
      * 実際にはコンテナの一種か
          * テキストオブジェクトをブロック展開
          * タグをショート展開
          * コメントをミドル==ロング==ブロック展開
          * テキストによってはバージョン情報を添付

  * 写真
      * 写真そのもの
      * サムネイル
      * EXIF情報との差分(上書き情報)
      * コメント(インライン参照するテキスト)
      * 実際にはコンテナの一種か

  * 受け取ったコメントやトラックバック、送ったトラックバック

  * タグ

  * ISBN/ASIN
      * 物品情報をどこかからひっぱってくる
      * 時々更新する?
      * コメントが付けられる

  * コンテナ
      * blogの日付け一覧
      * タグでの一覧
      * タグの一覧
      * 一連のテキスト(ページ分け)
          * 長い記事を書くとき
          * 以前書いた記事の続きやアップデート情報を書くとき
      * パス名やオブジェクトクラスをキーにして集める感じ
        (件数その他で制限できる)
          * パスによって複数ユーザのblogをホスティングできるなど

  * プリミティブなオブジェクト
      * テキストデータ
      * イメージデータ
      * その他いろいろ
    こういったものをオブジェクトとして別に扱う必要は実はないかも?
    ただ複数のコンテナを用意することで
    別の見せ方ができる可能性があるのではないかとも思う
    (特にイメージデータなど)。

さらなる妄想:

  * flickr rdf(APIでも)を参照して自動的に写真とサムネイルをimportしちゃう
      * イメージオブジェクトとイメージコンテナを生成
  * amazonから気になる書籍情報を自動的にimportしちゃう
      * ISBN/ASINオブジェクトを生成
  * GTD的ToDoリストを作れる
      * そういったコンテナオブジェクトを作れるようになっているといいな
  * 静的なページを出力できる
      * 言語情報をどう扱う?
-----------------------------------------------------------------------------------

こんな感じです。

--
ay

--~--~---------~--~----~------------~-------~--~----~
http://code.google.com/p/donrails/
http://code.google.com/p/donrails/source

You received this message because you are subscribed to the Google
Groups "donrails" group.
To post to this group, send email to donrails@googlegroups.com
To unsubscribe from this group, send email to
donrails-unsubscribe@googlegroups.com
For more options, visit this group at http://groups.google.com/group/donrails
-~----------~----~----~----~------~----~------~--~---



-- 
ARAKI Yasuhiro

